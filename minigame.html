<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Game - 3-5-1 Shield</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .game-container {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .scam-display {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            border: 3px solid #007acc;
        }
        
        .timer {
            font-size: 3em;
            font-weight: bold;
            color: #ff4444;
            margin: 20px 0;
        }
        
        .game-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
        }
        
        .game-btn {
            padding: 15px 30px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-scam {
            background: #ff4444;
            color: white;
        }
        
        .btn-safe {
            background: #00c851;
            color: white;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            font-size: 1.1em;
        }
        
        .result-feedback {
            font-size: 1.3em;
            font-weight: bold;
            margin: 10px 0;
            padding: 10px;
            border-radius: 8px;
        }
        
        .correct {
            background: #d4edda;
            color: #155724;
        }
        
        .wrong {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>

    <nav class="main-nav">
        <div class="logo"><i class="fa-solid fa-shield-halved"></i> 3-5-1 Shield</div>
        <ul>
            <li><a href="index.html">Trang Ch·ªß</a></li>
            <li><a href="training.html">Luy·ªán T·∫≠p</a></li>
            <li><a href="resources.html">T√†i Nguy√™n</a></li>
            <li><a href="minigame.html" class="active">Mini Game</a></li>
            <li><a href="leaderboard.html">B·∫£ng X·∫øp H·∫°ng</a></li>
        </ul>
    </nav>

    <div class="homepage-container">
        <div class="hero-section">
            <h1><i class="fa-solid fa-gamepad"></i> Mini Game Nh·∫≠n Di·ªán</h1>
            <p class="tagline">Ph·∫£n ·ª©ng nhanh trong 5 gi√¢y - R√®n luy·ªán ph·∫£n x·∫° ch·ªëng l·ª´a ƒë·∫£o!</p>
        </div>

        <div class="game-container">
            <div class="card">
                <h2>Lu·∫≠t ch∆°i</h2>
                <p>B·∫°n c√≥ <strong>5 gi√¢y</strong> ƒë·ªÉ quy·∫øt ƒë·ªãnh t√¨nh hu·ªëng n√†y l√† <strong>L·ª™A ƒê·∫¢O</strong> hay <strong>AN TO√ÄN</strong>!</p>
            </div>

            <div class="game-stats">
                <div>ƒêi·ªÉm: <span id="game-score">0</span></div>
                <div>ƒê√∫ng: <span id="game-correct">0</span>/<span id="game-total">0</span></div>
                <div>Th·ªùi gian: <span id="game-time">5</span>s</div>
            </div>

            <div class="scam-display" id="scam-text">
                Nh·∫•n B·∫ÆT ƒê·∫¶U ƒë·ªÉ ch∆°i!
            </div>

            <div class="timer" id="timer">5</div>

            <div class="result-feedback" id="feedback"></div>

            <div class="game-buttons">
                <button class="game-btn btn-scam" onclick="makeGuess('scam')" id="btn-scam" disabled>üö® L·ª™A ƒê·∫¢O</button>
                <button class="game-btn btn-safe" onclick="makeGuess('safe')" id="btn-safe" disabled>‚úÖ AN TO√ÄN</button>
            </div>

            <button class="btn" onclick="startGame()" id="start-btn">üéÆ B·∫ÆT ƒê·∫¶U CH∆†I</button>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 3-5-1 Shield. Luy·ªán t·∫≠p ƒë·ªÉ an to√†n h∆°n!</p>
    </footer>

    <script>
        const miniGameScenarios = [
            { text: "Ch√∫c m·ª´ng b·∫°n tr√∫ng th∆∞·ªüng iPhone 14! Click link ƒë·ªÉ nh·∫≠n qu√† ngay!", answer: "scam" },
            { text: "Th√¥ng b√°o t·ª´ ng√¢n h√†ng: B·∫°n v·ª´a nh·∫≠n ƒë∆∞·ª£c chuy·ªÉn kho·∫£n 5,000,000 VND", answer: "safe" },
            { text: "T√†i kho·∫£n c·ªßa b·∫°n s·∫Ω b·ªã kh√≥a trong 30 ph√∫t n·∫øu kh√¥ng x√°c minh ngay!", answer: "scam" },
            { text: "Xin ch√†o, t√¥i l√† nh√¢n vi√™n b∆∞u ƒëi·ªán. B·∫°n c√≥ b∆∞u ki·ªán ch·ªù nh·∫≠n", answer: "safe" },
            { text: "ƒê·∫ßu t∆∞ ti·ªÅn ·∫£o sinh l·ªùi 300% trong 24h. Tham gia ngay!", answer: "scam" },
            { text: "Th√¥ng b√°o b·∫£o tr√¨ h·ªá th·ªëng t·ª´ nh√† cung c·∫•p d·ªãch v·ª• ch√≠nh th·ª©c", answer: "safe" },
            { text: "M√°y t√≠nh c·ªßa b·∫°n ƒë√£ b·ªã nhi·ªÖm virus! G·ªçi s·ªë n√†y ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ mi·ªÖn ph√≠", answer: "scam" }
        ];

        let currentScenario = null;
        let gameScore = 0;
        let correctAnswers = 0;
        let totalQuestions = 0;
        let timeLeft = 5;
        let timerInterval = null;
        let gameActive = false;

        function startGame() {
            gameScore = 0;
            correctAnswers = 0;
            totalQuestions = 0;
            document.getElementById('game-score').textContent = '0';
            document.getElementById('game-correct').textContent = '0';
            document.getElementById('game-total').textContent = '0';
            document.getElementById('start-btn').disabled = true;
            document.getElementById('btn-scam').disabled = false;
            document.getElementById('btn-safe').disabled = false;
            
            nextQuestion();
        }

        function nextQuestion() {
            if (!gameActive) {
                gameActive = true;
            }
            
            // Ch·ªçn scenario ng·∫´u nhi√™n
            const randomIndex = Math.floor(Math.random() * miniGameScenarios.length);
            currentScenario = miniGameScenarios[randomIndex];
            
            document.getElementById('scam-text').textContent = currentScenario.text;
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'result-feedback';
            
            timeLeft = 5;
            document.getElementById('timer').textContent = timeLeft;
            document.getElementById('timer').style.color = '#ff4444';
            
            // B·∫Øt ƒë·∫ßu ƒë·∫øm ng∆∞·ª£c
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                
                if (timeLeft <= 3) {
                    document.getElementById('timer').style.color = '#ff0000';
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    showResult(false, '‚è∞ H·∫øt th·ªùi gian!');
                }
            }, 1000);
        }

        function makeGuess(guess) {
            if (!gameActive || timeLeft <= 0) return;
            
            clearInterval(timerInterval);
            const isCorrect = guess === currentScenario.answer;
            
            showResult(isCorrect, isCorrect ? 'üéâ CH√çNH X√ÅC!' : '‚ùå SAI R·ªíI!');
        }

        function showResult(isCorrect, message) {
            gameActive = false;
            
            if (isCorrect) {
                gameScore += 10;
                correctAnswers++;
                document.getElementById('feedback').className = 'result-feedback correct';
            } else {
                document.getElementById('feedback').className = 'result-feedback wrong';
            }
            
            totalQuestions++;
            document.getElementById('game-score').textContent = gameScore;
            document.getElementById('game-correct').textContent = correctAnswers;
            document.getElementById('game-total').textContent = totalQuestions;
            document.getElementById('feedback').textContent = message;
            
            // Chuy·ªÉn c√¢u h·ªèi sau 2 gi√¢y
            setTimeout(() => {
                if (totalQuestions < 10) {
                    nextQuestion();
                } else {
                    endGame();
                }
            }, 2000);
        }

        function endGame() {
            document.getElementById('start-btn').disabled = false;
            document.getElementById('btn-scam').disabled = true;
            document.getElementById('btn-safe').disabled = true;
            document.getElementById('scam-text').textContent = 'Ho√†n th√†nh! ƒêi·ªÉm c·ªßa b·∫°n: ' + gameScore;
            document.getElementById('timer').textContent = 'üéÆ';
            
            alert(`üéä K·∫øt th√∫c game!\nƒêi·ªÉm: ${gameScore}\nT·ª∑ l·ªá ƒë√∫ng: ${Math.round((correctAnswers/totalQuestions)*100)}%`);
        }
    </script>
</body>
</html>
